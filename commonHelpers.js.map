{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function createMarkup(images) {\n  return `<ul class=\"img-list\">${images\n    .map(\n      img => `<li class=\"item\"><a class=\"link\" href=\"${img.largeImageURL}\"><img class=\"image\"\n//        src=\"${img.webformatURL}\" alt=\"${img.tags}\"></a><div class=\"info\"><div><h3>Likes</h3><p>${img.likes}</p></div><div><h3>Views</h3><p>${img.views}</p></div><div><h3>Comments</h3><p>${img.comments}</p></div><div><h3>Downloads</h3><p>${img.downloads}</p></div></div></li>`\n    )\n    .join('')}</ul>`;\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { createMarkup } from '/js/render-functions';\n\nconst loader = document.querySelector('.loader');\n\nexport function getImages(query) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const params = new URLSearchParams({\n    key: '44273329-392765d5a069e216bf7d20a4c',\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `${BASE_URL}?${params}`;\n\n  loader.classList.add('is-on');\n\n  return fetch(url)\n    .then(res => res.json())\n    .then(data => {\n      if (!data.hits.length) {\n        iziToast.error({\n          message: 'Sorry, there are no images matching your search query',\n          messageColor: '#ffffff',\n          backgroundColor: '#0077b6',\n          position: 'topRight',\n          timeout: 5000,\n        });\n      } else {\n        const container = document.querySelector('.container');\n        createMarkup(data.hits);\n        container.insertAdjacentHTML('beforeend', createMarkup(data.hits));\n\n        const lightbox = new SimpleLightbox('.container a', {\n          captionsData: 'alt',\n          captionDelay: 250,\n        });\n        lightbox.refresh();\n      }\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => {\n      loader.classList.remove('is-on');\n    });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getImages } from './js/pixabay-api';\n\nconst formEl = document.querySelector('.search-form');\nconst container = document.querySelector('.container');\n\nformEl.addEventListener('submit', handleSearch);\n\nfunction handleSearch(event) {\n  event.preventDefault();\n\n  container.innerHTML = '';\n  const query = event.target.elements.search.value.trim();\n  if (!query) {\n    iziToast.error({\n      message: 'Ay caramba! No empty fields, please',\n      messageColor: '#ffffff',\n      backgroundColor: '#d00000',\n      position: 'topRight',\n      timeout: 5000,\n    });\n  } else {\n    getImages(query);\n    formEl.reset();\n  }\n}\n"],"names":["createMarkup","images","img","loader","getImages","query","BASE_URL","params","url","res","data","iziToast","container","SimpleLightbox","error","formEl","handleSearch","event"],"mappings":"6vBAAO,SAASA,EAAaC,EAAQ,CACnC,MAAO,wBAAwBA,EAC5B,IACCC,GAAO,0CAA0CA,EAAI,aAAa;AAAA,iBACvDA,EAAI,YAAY,UAAUA,EAAI,IAAI,iDAAiDA,EAAI,KAAK,mCAAmCA,EAAI,KAAK,sCAAsCA,EAAI,QAAQ,uCAAuCA,EAAI,SAAS,uBAC1P,EACA,KAAK,EAAE,CAAC,OACb,CCCA,MAAMC,EAAS,SAAS,cAAc,SAAS,EAExC,SAASC,EAAUC,EAAO,CAC/B,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GAEjC,OAAAJ,EAAO,UAAU,IAAI,OAAO,EAErB,MAAMK,CAAG,EACb,KAAKC,GAAOA,EAAI,MAAM,EACtB,KAAKC,GAAQ,CACZ,GAAI,CAACA,EAAK,KAAK,OACbC,EAAS,MAAM,CACb,QAAS,wDACT,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,QAAS,GACnB,CAAS,MACI,CACL,MAAMC,EAAY,SAAS,cAAc,YAAY,EACrDZ,EAAaU,EAAK,IAAI,EACtBE,EAAU,mBAAmB,YAAaZ,EAAaU,EAAK,IAAI,CAAC,EAEhD,IAAIG,EAAe,eAAgB,CAClD,aAAc,MACd,aAAc,GACxB,CAAS,EACQ,QAAO,CACjB,CACP,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACbX,EAAO,UAAU,OAAO,OAAO,CACrC,CAAK,CACL,CC/CA,MAAMY,EAAS,SAAS,cAAc,cAAc,EAC9CH,EAAY,SAAS,cAAc,YAAY,EAErDG,EAAO,iBAAiB,SAAUC,CAAY,EAE9C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpBL,EAAU,UAAY,GACtB,MAAMP,EAAQY,EAAM,OAAO,SAAS,OAAO,MAAM,OAC5CZ,GASHD,EAAUC,CAAK,EACfU,EAAO,MAAK,GATZJ,EAAS,MAAM,CACb,QAAS,sCACT,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,QAAS,GACf,CAAK,CAKL"}